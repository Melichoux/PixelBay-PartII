<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Création de Compte PixelBay</title>
    <style>
        .success {           
            border: 2px solid green;
        /* ajout de cette propriete pour que l'encadrement se voit pendant la saisie et passe "devant" le contour par defaut */
            outline-style: solid;
        }
        .danger {
            border: 2px solid red;
        /* ajout de cette propriete pour que l'encadrement se voit pendant la saisie et passe "devant" le contour par defaut */
            outline-style: solid;
        }
        .success-checked::before {
            content: "✓ ";
            color: green;
        }
    </style>
</head>
<body>
    <main>
        <h1>PixelBay</h1>
        <h2>Création du compte</h2>
        <form method="get" action="#">
            <div>
                <label for="firstName"></label>
                <input id="firstName" type="text" placeholder="firstname" name="firstName">
            </div>

            <div>
                <label for="lastName"></label>
                <input id="lastName" type="text" placeholder="lastname" name="lastName" >
            </div>

            <div>
                <label for="email"></label>
                <input id="email" type="email" placeholder="username@gmail.com" >
            </div>

            <div>
                <label for="pass1"></label>
                <input id="pass1" type="password" placeholder="password" name="pass1" >
            </div>

            <div>
                <label for="pass2"></label>
                <input id="pass2" type="password" placeholder="confirm password" name="pass2">
            </div>

            <div>
                <input id="majeur" type="checkbox" name="majeur" value="majeur" >
                <label for="majeur">Vous devez avoir plus de 18 ans pour vous inscrire</label>
            </div>

            <div>
                <button type="submit">Register now</button>
            </div>
        </form>
        <p class="message"></p>
    </main>

    <script>
        /* Plan d'attaque de l'exo:
            - definir le bon event à utiliser entre le input et le keydown,
            - definir les differentes conditions a appliquer a chaque champ input pour qu'il soit "true" 
            (pas besoin de le faire dans le HTML si present dans le code JS mais double verif avec le Php dans tous les cas),
            - appliquer un event pour chaque input,
            - dans chaque input: un if avec les conditions true et un else pour false, */

            const form = document.querySelector("form")
            const firstName = document.querySelector("#firstName"); // dehors ou dedans l'event??
            console.log(firstName);



// ----------------------------   FirstName  -------------------------------------
            firstName.addEventListener("input",(event) => { // on priviligiera le "change" pour une meilleure performance du code
                console.log(firstName.value)
                if (firstName.value.length >= 2  && firstName.value.length <= 20) {
                    // Remplace toutes les classes par success + success-checked
                    firstName.className = "success success-checked"; /* on ne peut pas utiliser classList.add car a la premiere lettre saisie c'est la class
                    "danger" qui va prendre le dessus et "success" ne s'affichera pas car classList.add ne remplace pas la class precedente,
                    ou alors il faut ajouter une ligne classList.remove pour retirer la class precedente*/
                console.log(firstName);
                }
                else{
                    firstName.className = "danger";
                }
            })


// ----------------------------   LastName  -------------------------------------
            const lastName = document.querySelector("#lastName")
             lastName.addEventListener("input",(event) => { // on priviligiera le "change" pour une meilleure performance du code
                console.log(lastName.value)
                if (lastName.value.length >= 2  && lastName.value.length <= 20) {
                    lastName.className = "success";   
                }
                else{
                    lastName.className = "danger";
                }
            })

            
// ----------------------------   Email  -------------------------------------
            const email = document.querySelector("#email")
             email.addEventListener("input",(event) => { // on priviligiera le "change" pour une meilleure performance du code
                console.log(email.value)
                if (email.value.length >= 2  && email.value.length <= 20) {
                    email.className = "success";   
                }
                else{
                    email.className = "danger";
                }
            })


// ----------------------------   Password  -------------------------------------
            const pass1 = document.querySelector("#pass1")
             pass1.addEventListener("input",(event) => { // on priviligiera le "change" pour une meilleure performance du code
                console.log(pass1.value)
                if (pass1.value.length >= 2  && pass1.value.length <= 20) {
                    pass1.className = "success";   
                }
                else{
                    pass1.className = "danger";
                }
            })



// ----------------------------   Verif Password  -------------------------------------
            const pass2 = document.querySelector("#pass2")
             pass2.addEventListener("input",(event) => { // on priviligiera le "change" pour une meilleure performance du code
                console.log(pass2.value)
                if (pass2.value !== pass1.value) {
                    pass2.className = "success";   
                }
                else{
                    pass2.className = "danger";
                }
            })

// ----------------------------   CheckBox  -------------------------------------
             const majeur = document.querySelector("#majeur")
             majeur.addEventListener("input",(event) => { // on priviligiera le "change" pour une meilleure performance du code
                console.log(majeur.value)
                if (majeur.value ) {
                    majeur.className = "success";   
                }
                else{
                    majeur.className = "danger";
                }
            })
           

// ----------------------------   Validation  -------------------------------------
             const submit = document.querySelector("#submit")
             submit.addEventListener("input",(event) => { // on priviligiera le "change" pour une meilleure performance du code
                console.log(submit.value)
                if (submit.value ) {
                    submit.className = "success";   
                }
                else{
                    submit.className = "danger";
                }
            })

    </script>
</body>
</html>


 